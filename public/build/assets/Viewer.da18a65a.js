import{a as Y,I as z}from"./ItemGroupCell.3a487913.js";import{r as V,q as X,t as A,f as D}from"./index.dd8eb344.js";import{aq as S,a1 as N,r as _,o as l,c as m,d as s,a as k,b as h,f as c,t as u,w as g,v as Z,n as x,e as v,Z as U,_ as F,i as P,j as M,X as Q,F as I,g as $,k as T,V as w}from"./app.1f7f3af2.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as y,I as tt}from"./datetime.5a46dae2.js";import{J as j}from"./DialogModal.55009861.js";import{J}from"./Button.da32a217.js";var et=6e4;function st(e,t){V(2,arguments);var o=A(t);return X(e,o*et)}function Ee(e,t){V(2,arguments);var o=A(t);return Y(e,-o)}const E={description:"",billable:0,start:null,end:null,duration:null,label_ids:[]};class H{constructor(t={}){this.timeEntry=Object.assign(E,t),this.running=!1,this.now=null,this.onUpdate=null,this.interval=null}startTimer(){const t=S.exports.cloneDeep(this.timeEntry),o=new Date;return t.start=D(o,"yyyy-MM-dd HH:mm:ss"),t.label_ids=JSON.stringify(E.label_ids),N.post("/api/time-entries",t).then(({data:a})=>{this.running=!0,this.timeEntry=a.data}).catch(a=>{this.$notify({title:"Error",message:a.response.data.status.message,type:"error"})}),o}prepareForm(){const t=S.exports.cloneDeep(this.timeEntry);return t.start=D(this.timeEntry.start,"yyyy-MM-dd HH:mm:ss"),t.label_ids=JSON.stringify(this.timeEntry.label_ids),t}updateEntry(t){if(this.timeEntry.id)return t=t||this.prepareForm(),N.put(`/api/time-entries/${this.timeEntry.id}`,t)}setCurrentTimer(t){if(t&&t.length){const o=t[0];this.running=!0,this.timeEntry=o}}stopTimer(t){const o=new Date(this.timeEntry.start);if(t&&this.timeEntry.target_duration){const n=y.fromISO(this.timeEntry.target_duration);t=st(o,n.minutes),this.timeEntry.promodoro_completed=!0}this.timeEntry.end=D(t||new Date,"yyyy-MM-dd HH:mm:ss");const a=S.exports.cloneDeep(this.timeEntry);a.start=D(o,"yyyy-MM-dd HH:mm:ss"),a.label_ids=JSON.stringify(this.timeEntry.label_ids),a.status=1,a.duration=this.getDuration(),a.iso_duration=this.getDuration(!1,"ISO"),this.updateEntry(a).then(()=>{this.running=!1,clearInterval(this.interval),this.resetTimer()})}resetTimer(){this.timeEntry=S.exports.cloneDeep(E)}toggleTimer(){this.running?this.stopTimer():this.startTimer()}trackTime(){this.interval=setInterval(()=>{this.now=new Date,this.timeEntry.duration=this.getDuration()},100)}getDuration(t,o){let a=0;if(this.timeEntry.start){const n=new Date(this.timeEntry.start),r=this.timeEntry.end&&new Date(this.timeEntry.end);a=tt.fromDateTimes(n,r||this.now||new Date).toDuration()}else a=y.fromMillis(0);return!t&!o?a.as("milliseconds"):o=="ISO"?a.toISO():a.toFormat("hh:mm:ss")}static durationFromMs(t){return y.fromMillis(t).toFormat("hh:mm:ss")}}const ot={props:{task:{type:Object,required:!0},tracker:{type:Object}},data(){return{originalDuration:null}},watch:{tracker(e){e?this.originalDuration=this.task.duration:this.originalDuration=this.task.duration}},created(){this.originalDuration=this.task.duration},computed:{isTracker(){return this.tracker&&this.tracker.timeEntry.item_id==this.task.id},durationFromMs(){const e=this.isTracker&&this.tracker.duration||0;return this.task.duration=this.originalDuration+e,H.durationFromMs(this.task.duration)},priorityText(){const e={high:"\u{1F525}\u{1F525}\u{1F525}",medium:"\u{1F525}\u{1F525}",low:"\u{1F525}"};return this.task&&e[this.task.priority]||""}},methods:{updateTask(){this.$emit("update-item",this.task)}}},L=e=>(U("data-v-72bf71f7"),e=e(),F(),e),it={class:"task-item"},nt={class:"checkbox-label"},rt={class:"font-bold"},at={class:"font-bold"},lt=L(()=>s("i",{class:"mx-2 fas fa-layer-group"},null,-1)),dt={class:"flex items-center actions-container"},mt=["id"],ut=L(()=>s("div",{class:"inline-block ml-2 mr-4 priority-level"},[s("div",{class:"priority-level__inner"})],-1)),ct={class:"mr-2"},ht=L(()=>s("i",{class:"fa fa-trash"},null,-1)),pt=[ht];function ft(e,t,o,a,n,r){const d=_("inertia-link"),p=_("el-tooltip");return l(),m("div",it,[s("div",null,[s("label",nt,[s("span",rt,[k(d,{href:`/boards/${o.task.board_id}`},{default:h(()=>[s("span",at,[lt,c(" "+u(o.task.stage),1)])]),_:1},8,["href"])]),s("span",null,u(o.task.title),1)])]),s("div",dt,[g(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=i=>o.task.done=i),name:"",class:"checkbox-done",id:o.task.id,onChange:t[1]||(t[1]=i=>r.updateTask(o.task))},null,40,mt),[[Z,o.task.done]]),k(p,{class:"item",effect:"dark",content:o.task.priority||"none",placement:"left"},{default:h(()=>[ut]),_:1},8,["content"]),s("span",ct,u(r.durationFromMs),1),o.task.commit_date?v("",!0):(l(),m("button",{key:0,onClick:t[2]||(t[2]=i=>e.$emit("item-clicked",o.task)),class:"play-button"},[s("i",{class:x(["fa",[r.isTracker?"fa-pause":"fa fa-play"]])},null,2)])),s("button",{onClick:t[3]||(t[3]=i=>e.$emit("item-deleted",o.task)),class:"ml-2 text-gray-300 hover:text-red-400"},pt)])])}const _t=b(ot,[["render",ft],["__scopeId","data-v-72bf71f7"]]);const kt={components:{ItemContainerTask:_t,ItemGroupCell:z},props:{tasks:{type:Array,required:!0},boards:{type:Array,required:!1,defauult(){return[]}},allowAdd:{type:Boolean,default:!1},title:{type:String,default:"Todos"},tracker:{type:Object}},data(){return{isLoading:!1,newTask:{title:"",board:null,stage:null}}},async created(){this.boards&&this.boards.length&&(this.newTask.board=this.boards[0],this.newTask.stage=this.boards[0].stages[0],await this.getFieldsData())},methods:{getFieldsData(){return axios({url:"/api/fields",params:{"filter[board_id]":this.newTask.board.id}}).then(({data:e})=>{this.newTask.fieldsData=e.data})},addItem(){const e={...this.newTask},t=e.fieldsData.find(a=>a.name=="status"),o=t&&t.options.find(a=>a.name=="todo");e.fields=[{field_id:t.id,field_name:t.name,value:o&&o.name}],e.board_id=e.board.id,e.stage_id=e.stage.id,delete e.fieldsData,this.updateItem(e),this.newTask.title=""},updateItem(e){const t=e.id?"PUT":"POST",o=e.id?`/${e.id}`:"";this.isLoading=!0,axios({url:`/items${o}`,method:t,data:e}).then(()=>{this.$inertia.reload({preserveScroll:!0})}).finally(()=>{this.isLoading=!1})},confirmDeleteItem(e,t=!0){this.showConfirm({title:`Delete ${e.title} task`,content:"Are you sure you want to delete this task?",confirmationButtonText:"Yes, delete",confirm:()=>{axios({url:`/items/${e.id}`,method:"delete"}).then(()=>{this.$emit("item-deleted",e)})}})}}},gt={class:"my-5 item-container section-card committed"},yt={class:"text-lg font-bold text-cool-gray-600"},bt={class:"mb-5 text-gray-600 body"},vt={key:1,class:"w-full text-center text-purple-400"},wt={key:2,class:"font-bold text-center text-gray-400 task-item"};function Tt(e,t,o,a,n,r){const d=_("item-group-cell"),p=_("item-container-task");return l(),m("div",gt,[s("header",yt,u(o.title),1),P(e.$slots,"default",{},void 0,!0),s("div",bt,[o.allowAdd?(l(),M(d,{key:0,ref:"ItemGroupCell",class:"flex items-center w-full mb-10","field-name":"title","is-title":!0,index:-1,item:n.newTask,"show-controls":!0,"close-on-blur":!1,"is-new":!0,boards:o.boards,placeholder:"Task title",onSaved:t[0]||(t[0]=i=>n.newTask.title=i),onKeydown:t[1]||(t[1]=Q(i=>r.addItem(),["enter"]))},null,8,["item","boards"])):v("",!0),n.isLoading?(l(),m("div",vt," Adding new task... ")):v("",!0),(l(!0),m(I,null,$(o.tasks,i=>(l(),M(p,{key:`task-${i.id}`,task:i,tracker:o.tracker,onItemClicked:f=>e.$emit("item-clicked",i),onItemDeleted:t[2]||(t[2]=f=>r.confirmDeleteItem(f,!0)),onUpdateItem:t[3]||(t[3]=f=>e.$emit("update-item",f))},null,8,["task","tracker","onItemClicked"]))),128)),!o.tasks||!o.tasks.length?(l(),m("div",wt,[P(e.$slots,"empty",{},()=>[c(" There's no items to show ")],!0)])):v("",!0)])])}const Oe=b(kt,[["render",Tt],["__scopeId","data-v-049a4f16"]]),q=25,K=5,R=15,C=0,Dt=["session","break","session","break","session","break","session","longBreak"],O={session:{name:"session",color:"bg-red-500",minutes:q,seconds:C},break:{name:"break",color:"bg-blue-500",minutes:K,seconds:C},longBreak:{name:"long",color:"bg-green-500",minutes:R,seconds:C}},W={props:{settings:{type:Object,default(){return{}}}},data(){return{audio:null,alarmSound:"alarmwatch",modes:O,defaults:{SESSION_MINUTES:q,BREAK_MINUTES:K,LONG_BREAK_MINUTES:R,TIME_SECONDS:C,PROMODORO_TEMPLATE:Dt}}},methods:{init(e){const t=e||this.settings;t.promodoro_template&&(this.promodoroTemplate=JSON.parse(t.promodoro_template));const o=t.promodoro_modes.trim()&&JSON.parse(t.promodoro_modes),{session:a,break:n,longBreak:r}=this.modes;o&&(a.minutes=o.session.minutes,a.seconds=o.session.seconds,n.minutes=o.break.minutes,n.seconds=o.break.seconds,r.minutes=o.longBreak.minutes,r.seconds=o.longBreak.seconds),this.reset&&this.reset()},playSound(){},stopSound(){this.audio&&this.audio.pause&&(this.audio.pause(),this.audio.remove(),window.navigator.vibrate(0))}}};const St={mixins:[W],components:{DialogModal:j,PrimaryButton:J},props:{isOpen:{type:Boolean},recordData:{type:Object}},data(){return{modes:{session:{name:"Session",minutes:25,seconds:0},break:{name:"Break",minutes:5,seconds:0},longBreak:{name:"Long Break",minutes:15,seconds:0}},promodoroTemplate:JSON.parse(localStorage.getItem("promodoroTemplate"))||[]}},watch:{isOpen(){this.init()}},methods:{save(){const e={};e.promodoro_template=JSON.stringify(this.promodoroTemplate),Object.keys(this.modes).forEach(t=>{this.modes[t].minutes=Number(this.modes[t].minutes)||1}),e.promodoro_modes=JSON.stringify(this.modes),axios({url:"/api/settings",method:"POST",data:e}).then(()=>{this.$emit("saved",e)})},addWorkflowItem(e){this.promodoroTemplate.push(e)},removeItem(e){this.promodoroTemplate.splice(e,1)}}},xt=s("h1",null," User preferences ",-1),Ct=s("div",{class:"form-group"},[s("label",{for:""},[s("input",{type:"checkbox",name:"",id:""}),c(" Timer indication title ")])],-1),Mt=s("div",{class:"form-group"},[s("label",{for:""},[s("input",{type:"checkbox",name:"",id:""}),c(" Browser Notification ")])],-1),It=s("div",{class:"form-group"},[s("label",{for:""},[s("input",{type:"checkbox",name:"",id:""}),c(" Autostart promodoros and breaks ")])],-1),$t=s("h1",null," Workflow Template ",-1),Et={class:"form-group"},Ot=["onClick"],Lt=s("i",{class:"fa fa-minus"},null,-1),Bt=s("h1",null," Workflow Items ",-1),Nt={class:"form-group"},Pt=["onClick"],Vt=s("i",{class:"fa fa-plus"},null,-1),At=s("h1",null," Select sound ",-1),Ut=s("div",{class:"form-group"},[s("select",{name:"",id:"",class:"form-control"},[s("option",{value:""},"Alarm Clock"),s("option",{value:""},"Elevator Ding")])],-1),Ft=s("h1",null," Set Times ",-1),jt={class:"flex"},Jt={class:"form-group"},Ht=s("label",{for:""}," Session ",-1),qt={class:"form-group"},Kt=s("label",{for:""}," Break ",-1),Rt={class:"form-group"},Wt=s("label",{for:""}," Long Break ",-1);function Gt(e,t,o,a,n,r){const d=_("primary-button"),p=_("dialog-modal");return l(),M(p,{show:o.isOpen,onClose:t[6]||(t[6]=i=>e.$emit("closed"))},{title:h(()=>[c(" Promodoro Configuration ")]),content:h(()=>[s("form",{action:"",onSubmit:t[3]||(t[3]=T((...i)=>r.save&&r.save(...i),["prevent"]))},[xt,Ct,Mt,It,$t,s("div",Et,[(l(!0),m(I,null,$(n.promodoroTemplate,(i,f)=>(l(),m("div",{class:"workflow-item",key:`template-item-${f}`,onClick:G=>r.removeItem(f)},[c(u(n.modes[i]?n.modes[i].name:i)+" ",1),Lt],8,Ot))),128))]),Bt,s("div",Nt,[(l(!0),m(I,null,$(n.modes,(i,f)=>(l(),m("div",{class:"workflow-item",key:f,onClick:G=>r.addWorkflowItem(f)},[c(u(i.name)+" ",1),Vt],8,Pt))),128))]),At,Ut,Ft,s("div",jt,[s("div",Jt,[Ht,g(s("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=i=>n.modes.session.minutes=i)},null,512),[[w,n.modes.session.minutes]])]),s("div",qt,[Kt,g(s("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":t[1]||(t[1]=i=>n.modes.break.minutes=i)},null,512),[[w,n.modes.break.minutes]])]),s("div",Rt,[Wt,g(s("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":t[2]||(t[2]=i=>n.modes.longBreak.minutes=i)},null,512),[[w,n.modes.longBreak.minutes]])])]),k(d,{onClick:T(e.playSound,["prevent"])},{default:h(()=>[c(" Test Audio ")]),_:1},8,["onClick"])],32)]),footer:h(()=>[k(d,{onClick:t[4]||(t[4]=i=>e.$emit("cancel"))},{default:h(()=>[c(" Cancel ")]),_:1}),k(d,{onClick:t[5]||(t[5]=i=>r.save())},{default:h(()=>[c(" Save ")]),_:1})]),_:1},8,["show"])}const Yt=b(St,[["render",Gt]]);const zt={minutes:0,seconds:10},Xt={mixins:[W],props:{tasks:{type:Array,default(){return[]}},tracker:{type:Object},timerColor:{type:String},allowPause:{type:Boolean,default:!1},isMini:{type:Boolean,default:!0}},components:{PromodoroConfigurationModal:Yt},data(){return{time:zt,startTime:null,startTimeStamp:null,expectedDuration:null,currentDuration:null,icon:"play_arrow",run:0,timer:"",round:0,isConfigurationOpen:!1,promodoroTemplate:[],modeSelected:"session",task:[],trackerLocal:null,isMiniLocal:!0}},mounted(){this.init()},beforeDestroy(){this.reset(),this.$parent.$emit("session::stopped")},watch:{trackerLocal(){this.$emit("update:tracker",this.trackerLocal)},isMini(){this.isMiniLocal=this.isMini},isMiniLocal(){this.$emit("update:is-mini",this.isMiniLocal)},promodoroColor:{handler(){this.$emit("update:timerColor",this.promodoroColor)},immediate:!0},formattedTime:{deep:!0,handler(e){this.tracker&&(this.tracker.duration=this.tracker.getDuration());const t=this.run?`(${e}) Daily`:"Daily";document.getElementsByTagName("title")[0].text=t;let[o,a]=e.split(":");o=Number(o),a=Number(a),this.time.minutes=o>=0?o:0,this.time.seconds=a>=0?a:0}}},computed:{message(){switch(this.run){case 0:return"start";case 1:return this.allowPause?"pause":"stop";case 2:return"resume"}},promodoroColor(){return this.modeSelected&&O[this.modeSelected].color?O[this.modeSelected].color:"bg-red-500"},rawTime(){let e=0;const t=this.expectedDuration||y.fromMillis(0);return this.startTime&&(e=y.fromMillis(this.currentDuration)),e?t.minus(e):t},title(){return this.isMiniLocal?this.formattedTime:"Promodoro"},formattedTime(){return this.rawTime.toFormat("mm:ss")}},mounted(){this.init()},methods:{toggleViewMode(){this.isMiniLocal=!this.isMiniLocal},play(){switch(this.stopSound(),this.run){case 0:this.initTimer();break;case 1:this.stop();break;case 2:this.initTimer("resume");break}},reset(){this.stop(),this.run=0,this.round=0,this.time={minutes:this.modes.session.minutes,seconds:this.modes.session.seconds},this.updateExpectedDuration(),this.modeSelected="session"},stop(e){clearInterval(this.timer),this.stopTracker(e),this.currentDuration=0,this.run=this.allowPause?2:0,this.icon="play_arrow",this.allowPause||this.setMode(this.modeSelected)},stopTracker(e){this.trackerLocal&&(this.trackerLocal.stopTimer(e),this.tracker.duration=this.tracker.getDuration(),this.$emit("stopped"))},endPromodoro(e){this.stop(e),MessageBox.confirm(`The time of the ${this.modeSelected} has finished`).then(()=>{this.findNextMode(),this.run=0,this.modeSelected!="session"&&this.play()})},initTimer(e){this.run=1,this.icon=this.allowPause?"pause":"stop",e||(this.time.minutes=this.modes[this.modeSelected].minutes),this.updateExpectedDuration(),this.modeSelected=="session"&&this.task.id?(this.trackerLocal=new H({description:this.task.title,item_id:this.task.id,type:"promodoro",target_duration:this.expectedDuration}),this.startTimeStamp=this.trackerLocal.startTimer(),this.startTime=this.startTimeStamp.getTime(),console.log(this.startTimeStamp)):this.startTime=Date.now(),this.timer=setInterval(()=>{this.countDown()},100)},countDown(){this.currentDuration=Date.now()-this.startTime,this.checkTime()},updateExpectedDuration(){this.expectedDuration=y.fromISO(`PT${this.time.minutes}M${this.time.seconds}S`)},checkTime(){this.time.seconds==0&&this.time.minutes==0&&(this.playSound(),this.endPromodoro(new Date))},setTask(e){(!this.task||this.task.id!=e.id)&&this.reset(),this.task=e,this.play()},setMode(e){this.modeSelected=e,this.time.minutes=this.modes[e].minutes,this.time.seconds=this.modes[e].seconds,this.currentDuration=0,this.updateExpectedDuration()},findNextMode(){const e=this.promodoroTemplate.length-1==this.round;this.round=e?0:this.round+1;const t=this.promodoroTemplate[this.round];this.setMode(t)},showNotification(){const e=localStorage.getItem("permission");Notification&&e==="granted"?setTimeout(()=>{new Notification("Expired")},5e3):e!=="denied"&&Notification.requestPermission().then(t=>{localStorage.setItem("permission",t),new Notification("Expired",{body:"Time has expired"})})},toggleConfiguration(e){this.isConfigurationOpen&&this.init(e),this.isConfigurationOpen=!this.isConfigurationOpen}}},B=e=>(U("data-v-8a329d92"),e=e(),F(),e),Zt={class:"material-icons"},Qt={class:"flex"},te=B(()=>s("i",{class:"fa fa-forward"},null,-1)),ee=[te],se=B(()=>s("i",{class:"fa fa-cog"},null,-1)),oe=[se],ie=B(()=>s("i",{class:"fa fa-chevron-down"},null,-1)),ne=[ie],re={key:0,class:"mb-4 text-white uppercase"},ae={class:"time"},le={class:"note"},de={class:"material-icons"},me={key:2,class:"promodoro__footer"},ue={class:"w-full"};function ce(e,t,o,a,n,r){const d=_("multiselect"),p=_("promodoro-configuration-modal");return l(),m("div",{class:x(["promodoro-app",{mini:n.isMiniLocal}])},[s("header",{class:x(["flex items-center justify-between w-full py-2 font-bold text-white",r.promodoroColor])},[s("button",{onClick:t[0]||(t[0]=i=>r.play()),class:"ml-2"},[s("i",Zt,u(n.icon),1)]),s("span",null,u(r.title),1),s("div",Qt,[s("button",{onClick:t[1]||(t[1]=i=>r.findNextMode()),class:"ml-2",title:"Next session"},ee),s("button",{onClick:t[2]||(t[2]=(...i)=>r.toggleConfiguration&&r.toggleConfiguration(...i)),class:"ml-2",title:"Promodoro configuration"},oe),s("button",{onClick:t[3]||(t[3]=i=>r.toggleViewMode()),class:"ml-2",title:"Promodoro configuration"},ne)])],2),n.isMiniLocal?(l(),m("p",re,[s("span",null,u(e.modes[n.modeSelected].name),1)])):(l(),m("div",{key:1,class:x(["clock",{rest:n.round,ticking:n.run==1}])},[s("time",ae,u(r.formattedTime),1),s("span",le,"click here to "+u(r.message),1),s("span",null,u(e.modes[n.modeSelected].name),1),s("div",{class:"inner-controls",onClick:t[4]||(t[4]=(...i)=>r.play&&r.play(...i))},[s("i",de,u(n.icon),1)])],2)),n.isMiniLocal?v("",!0):(l(),m("div",me,[s("div",ue,[k(d,{modelValue:n.task,"onUpdate:modelValue":t[5]||(t[5]=i=>n.task=i),label:"title","track-by":"id",placeholder:"Select a task","show-labels":!1,options:o.tasks,class:"w-full"},null,8,["modelValue","options"])])])),k(p,{settings:e.settings,"is-open":n.isConfigurationOpen,onCancel:r.toggleConfiguration,onSaved:r.toggleConfiguration},null,8,["settings","is-open","onCancel","onSaved"])],2)}const Le=b(Xt,[["render",ce],["__scopeId","data-v-8a329d92"]]);const he={components:{DialogModal:j,PrimaryButton:J},props:{isOpen:{type:Boolean},recordData:{type:Object}},data(){return{formData:{}}},watch:{recordData(){this.formData=this.recordData}},methods:{save(){const e=this.formData.id?"PUT":"POST",t=this.formData.id?`/${this.formData.id}`:"";axios({url:`/links${t}`,method:e,data:this.formData}).then(()=>{this.$emit("saved")})}}},pe=s("label",{for:"title"}," Title ",-1),fe={class:"pt-2"},_e=s("label",{for:"url"}," Url ",-1);function ke(e,t,o,a,n,r){const d=_("primary-button"),p=_("dialog-modal");return l(),M(p,{show:o.isOpen,onClose:t[5]||(t[5]=i=>e.$emit("closed"))},{title:h(()=>[c(" Add Link ")]),content:h(()=>[s("form",{action:"",onSubmit:t[2]||(t[2]=T((...i)=>r.save&&r.save(...i),["prevent"]))},[s("div",null,[pe,g(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=i=>n.formData.title=i)},null,512),[[w,n.formData.title]])]),s("div",fe,[_e,g(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=i=>n.formData.url=i)},null,512),[[w,n.formData.url]])])],32)]),footer:h(()=>[k(d,{onClick:t[3]||(t[3]=i=>e.$emit("cancel"))},{default:h(()=>[c(" Cancel ")]),_:1}),k(d,{onClick:t[4]||(t[4]=i=>r.save())},{default:h(()=>[c(" Save Link ")]),_:1})]),_:1},8,["show"])}const Be=b(he,[["render",ke]]);const ge={props:{links:{type:Array,default(){return[]}}},methods:{deleteLink(e){this.showConfirm({title:`Delete ${e.title} link`,content:"Are you sure you want to delete this link?",confirmationButtonText:"Yes, delete",confirm:()=>{axios.delete(`links/${e.id}`).then(()=>{this.$inertia.reload({only:["links"],preserveState:!0})})}})}}},ye=["href","title"],be={class:"tooltip"},ve=["onClick"],we=["onClick"];function Te(e,t,o,a,n,r){return l(),m("div",null,[(l(!0),m(I,null,$(o.links,d=>(l(),m("div",{class:"block link",key:d.id},[s("a",{class:"link__caller",href:d.url,target:"_blank",title:d.title},u(d.title),9,ye),s("div",be,[s("button",{class:"link__buttons edit hover:text-green-400 font-bold",onClick:T(p=>e.$emit("edit",d),["prevent","stop"])}," Edit",8,ve),s("button",{class:"link__buttons delete hover:text-red-400 font-bold",onClick:T(p=>r.deleteLink(d),["prevent","stop"])}," Delete",8,we)])]))),128))])}const Ne=b(ge,[["render",Te]]);export{Oe as B,Ne as L,Le as P,Be as a,Ee as s};
